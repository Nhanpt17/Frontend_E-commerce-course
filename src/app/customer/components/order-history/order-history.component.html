<!-- HTML -->
<table mat-table [dataSource]="orders" class="mat-elevation-z8 custom-table">

  <!-- Cột ID -->
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef class="text-center"> Mã đơn </th>
    <td mat-cell *matCellDef="let order" class="text-center"> #{{ order.id }} </td>
  </ng-container>

  <!-- Cột Trạng thái -->
  <ng-container matColumnDef="status">
    <th mat-header-cell *matHeaderCellDef class="text-center"> Trạng thái </th>
    <td mat-cell *matCellDef="let order" class="text-center">
      <div class="status-container" [ngClass]="'status-' + order.status.toLowerCase()">
        <mat-icon class="status-icon">{{ getStatusIcon(order.status) }}</mat-icon>
        {{ getStatusText(order.status) }}
      </div>
    </td>
  </ng-container>

  <!-- Cột Actions -->
  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef class="text-center"> Thao tác </th>
    <td mat-cell *matCellDef="let order" class="text-center">
      <button mat-stroked-button color="primary" (click)="viewDetails(order)" class="action-button">
        <mat-icon>visibility</mat-icon>
        Xem chi tiết
      </button>

      <!-- Thêm nút hủy đơn -->
      <button mat-stroked-button color="warn" (click)="cancelOrder(order)" class="action-button"
        *ngIf="order.status === 'PENDING' || order.status === 'PLACED'">
        <mat-icon>cancel</mat-icon>
        Hủy đơn
      </button>
    </td>
  </ng-container>

  <!-- Header và row definitions -->
  <tr mat-header-row *matHeaderRowDef="['id', 'status', 'actions']"></tr>
  <tr mat-row *matRowDef="let row; columns: ['id', 'status', 'actions'];"></tr>
</table>